<!DOCTYPE html>
<html>
<head>
    <title>NeoWave</title>
</head>
<body>
    <canvas id="chart"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.6.1/papaparse.min.js"></script>
    <script type="text/javascript">
        let rawData = retrieveData('http://localhost:8000/data.csv');
        const timeframe = 60; //1h = 60 bars of 1min
        const data = [10,12,15,17,13];
        let i = 1;

        plotChart(
            data,
            data.map(function(){
                return i++;
            })
        );

        function retrieveData(url) {
            Papa.parse(url, {
                download: true,
                complete: function(results){
                    console.log(results.data.length);
                    rawData = results.data;
                }
            });
        }
        
        function plotChart(plots, labels) {
            let config = {
                type: 'line',
                data: {
                    "datasets":[{
                        "data": plots, 
                        "fill": false, 
                        "lineTension": 0
                    }],
                    "labels": labels
                },
                options: {
                    legend: {
                        display: false
                    },
                },
            }

            new Chart(document.getElementById('chart'), config);
        }
    </script>
</body>
</html>